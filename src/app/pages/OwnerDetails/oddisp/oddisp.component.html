<div class="well" *ngIf="!show">

    <input type="text" [(ngModel)]="data" (input)="newData()">
    <button class="btn btn-danger" (click)="refresh()"><i class="material-icons">undo</i></button>
    <table class="table" style="width:100%" align="center">

        <thead>
            <tr class="table-header">
                <th>Srno</th>
                <th>TruckNumber-Type</th>
                <th>Owner Name<br>Aadhar<br>DOB</th>
                <th>PAN<br>Chasis<br>Engine</th>
                <th>RC<br>Expiry</th>
                <th>DL<br>Expiry</th>
                <th>Contact</th>
                <th *ngIf="role==1||role==2">Account Details</th>
                <th>Policy<br>Expiry<br>Fitness</th>
                <th>Prefer</th>
                <th *ngIf="role==1||role==2">Delete<br>Update</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let i of ownerdetailslist;let j = index">
                <td>{{j+1}}</td>
                <td>{{i.truckno}}-{{i.typeOfVehiclefirst}}</td>
                <td>
                    <ul>
                        <li>{{i.oname}}</li>
                        <li>{{i.aadhar}}</li>
                        <li>{{i.dob|date:'dd-MM-yyyy'}}</li>
                        </ul>
                    </td>
                <td>
                    <ul>
                        <li>{{i.pan}}</li>
                        <li>{{i.chasisNo}}</li>
                        <li>{{i.engNo}}</li>
                    </ul>
                    
                </td>
                <td><ul>
                    <li>{{i.truckno}}</li>
                    <li [ngStyle]="{'background-color': i.rE}" style="color: black;">{{i.regCardExpiry|date:'dd-MM-yyyy'}}</li>
                    </ul>
                </td>
                <td>
                    <ul>
                    <li>{{i.drivingLic}}</li>
                    <li [ngStyle]="{'background-color': i.dE}" style="color: black;">{{i.drivingLicExpiry|date:'dd-MM-yyyy'}}</li>
                </ul>
                </td>
                <td>
                    <ul *ngFor="let k of i.contact">
                        <li>{{k}}</li>
                    </ul>
                </td>
                <td *ngIf="role==1||role==2">
                    <ul *ngFor="let k of i.accountDetails">
                        <li>{{k.accountName}} : {{k.bankName}}</li>
                        <li>{{k.accountNumber}}</li>
                        <li>{{k.ifsc}}</li>
                        <hr>
                    </ul>
                </td>
                <td>
                   <ul>
                       <li>{{i.policy}}</li>
                       <li [ngStyle]="{'background-color': i.pE}" style="color: black;">{{i.policyExpiry|date:'dd-MM-yyyy'}}</li>
                       <li [ngStyle]="{'background-color': i.fE}" style="color: black;">{{i.fitnessExpiry|date:'dd-MM-yyyy'}}</li>
                   </ul>
                </td>
                <td>
                    <ul *ngFor="let j of i.preferences;">
                        <li>{{j}}</li>
                    </ul>
                </td>
                <td *ngIf="role==1||role==2">
                    <button mat-raised-button (click)="deleteOwnerDetails(i._id)"
                        class="btn-danger btn-sm btn-just-icon">
                        <i class="material-icons">delete_forever</i>
                    </button>
                    <button mat-raised-button type="button" (click)="showDatabyid(i)"
                        class="btn-primary btn-sm btn-just-icon">
                        <i class="material-icons">edit</i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div *ngIf="show">
    <router-outlet></router-outlet>
</div>