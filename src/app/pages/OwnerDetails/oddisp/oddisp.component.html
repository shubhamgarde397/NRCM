<div class="row">
    <div class="col-sm-2">
        <button class="btn btn-info" (click)="getWhichType('1')">All Truck</button>
    </div>
    <div class="col-sm-2">
        <button class="btn btn-info" (click)="getWhichType('2')">Single</button>
    </div>
    <div class="col-sm-2">
        <button class="btn btn-info" (click)="getWhichType('3')">AccNo</button>
    </div>
    <div class="col-sm-1">
        <button class="btn btn-info" (click)="getWhichType('4')">By Tpt</button>
    </div>

    <div class="col-sm-1">
        <button class="btn btn-info" (click)="getWhichType('5')">Tpt TB</button>
    </div>
    <div class="col-sm-2">
        <button class="btn btn-info" (click)="getWhichType('6')">Where?</button>
    </div>
    <div class="col-sm-2">
        <button class="btn btn-info" (click)="getWhichType('7')">Acc Name</button>
    </div>
</div>
<div class="row" *ngIf="selected7">
    <table border="1" class="table table-border">
        <tr>
            <th><input type="number" placeholder="from" [(ngModel)]="fromsrno"></th>
            <th class="btn btn-danger" (click)="getTBPDF('all')">All</th>
            <th class="btn btn-warning" (click)="getTBPDF('pending')">Pending</th>
            <th class="btn btn-info" (click)="getTBPDF('done')">Done</th>
            
        </tr>
    </table>
</div>

<div *ngIf="whichType==='1'">

<div class="well" *ngIf="!show">

    <input type="text" [(ngModel)]="data" (input)="newData()" *ngIf="tableDate">
    <button class="btn btn-danger" (click)="refresh()" *ngIf="tableDate"><i class="material-icons">undo</i></button>
    <table class="table" style="width:100%" align="center" *ngIf="tableDate">

        <thead>
            <tr class="table-header">
                <th>Srno</th>
                <th>TruckNumber-Type-pdr</th>
                <th>Owner Name<br>Pan<br>Aadhar<br>DOB</th>
                <th>License</th>
                <th>Contact</th>
                <th *ngIf="role==1||role==2">Account Details</th>
                <th>Prefer</th>
                <th *ngIf="role==1||role==2">Delete<br>Update</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let i of ownerdetailslist;let j = index">
                <td>{{j+1}}</td>
                <td>{{i.truckno}}-{{i.typeOfVehiclefirst}}<br>
                    <i class="material-icons" *ngIf="i.P" style="color: green;">done</i>
                    <i class="material-icons" *ngIf="!i.P" style="color: red;">close</i>

                    <i class="material-icons" *ngIf="i.d" style="color: green;">done</i>
                    <i class="material-icons" *ngIf="!i.d" style="color: red;">close</i>

                    <i class="material-icons" *ngIf="i.r" style="color: green;">done</i>
                    <i class="material-icons" *ngIf="!i.r" style="color: red;">close</i>

                    


                    <br>{{i.hbl}}-{{i.weight}}
                    <br><span *ngIf="i.transports.length>0">{{i.transports[0].tptName}}</span>
                
                </td>
                <td>
                    <ul>
                        <li>{{i.oname}}</li>
                        <li>{{i.pan}}</li>
                        <li>{{i.aadhar}}</li>
                        <li>{{i.dob|date:'dd-MM-yyyy'}}</li>
                        </ul>
                    </td>
                <td>
                    <ul>
                    <li [ngStyle]="{'background-color': i.rE}" style="color: black;">RC-{{i.regCardExpiry|date:'dd-MM-yyyy'}}</li>
                    <li [ngStyle]="{'background-color': i.dE}" style="color: black;">DL-{{i.drivingLicExpiry|date:'dd-MM-yyyy'}}</li>
                    </ul>
                </td>
                <td>
                    <ul *ngFor="let k of i.contact">
                        <li>{{k}}</li>
                    </ul>
                </td>
                <td *ngIf="role==1||role==2">
                    <ul *ngFor="let k of i.accountDetails">
                        <li>{{k.accountName}} : {{k.bankName}}</li>
                        <li>{{k.accountNumber}}</li>
                        <li>{{k.ifsc}}</li>
                        <li>12 : {{k.acc12}}</li>
                        <li>363 : {{k.acc363}}</li>
                        <hr>
                    </ul>
                </td>
                <td *ngIf="!i.preferenceChk"><button class="btn btn-danger" (click)="showPreference(i._id,j,'all')">Show Preference</button></td>
                <td *ngIf="i.preferenceChk">
                    <ul *ngFor="let j of i.preferences;">
                        <li>{{j}}</li>
                    </ul>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div *ngIf="show">
    <router-outlet></router-outlet>
</div>

</div>

<div *ngIf="whichType==='2'">
<div class="well">
<div>
    <input type="text" [(ngModel)]="editTruck">
    <button class="btn btn-danger" (click)="getSingleTruck()"><i class="material-icons" >send</i></button></div>

    <table class="table" style="width:100%" align="center"  *ngIf="tableDate2">

        <thead>
            <tr class="table-header">
                <th>Srno</th>
                <th>Truck</th>
                <th>Owner Name<br>Pan<br>Aadhar<br>DOB</th>
                <th>Documents</th>
                <th>Contact</th>
                <th *ngIf="role==1||role==2">Account Details</th>
                <th>Prefer</th>
                <th *ngIf="role==1||role==2">Options</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let i of ownerdetailslist2;let j = index">
                <td>{{j+1}}</td>
                <td>{{i.truckno}}-{{i.typeOfVehiclefirst}}
                    <br>{{i.hbl}}-{{i.weight}}
                </td>
                <td>
                    <ul>
                        <li>{{i.oname}}</li>
                        <li>{{i.pan}}
                            <i class="material-icons" *ngIf="i.P" style="color: green;">done</i>
                            <i class="material-icons" *ngIf="!i.P" style="color: red;">close</i>
                        </li>
                        <li>{{i.aadhar}}</li>
                        <li>{{i.dob|date:'dd-MM-yyyy'}}</li>
                        </ul>
                    </td>
                <td>
                    <ul>
                    <li [ngStyle]="{'background-color': i.rE}" style="color: black;">
                        RC-{{i.regCardExpiry|date:'dd-MM-yyyy'}}
                        <i class="material-icons" *ngIf="i.r" style="color: green;">done</i>
                        <i class="material-icons" *ngIf="!i.r" style="color: red;">close</i>
                    </li>
                    <li [ngStyle]="{'background-color': i.dE}" style="color: black;">
                        DL-{{i.drivingLicExpiry|date:'dd-MM-yyyy'}}
                        <i class="material-icons" *ngIf="i.d" style="color: green;">done</i>
                        <i class="material-icons" *ngIf="!i.d" style="color: red;">close</i>
                    </li>
                    </ul>
                </td>
                <td>
                    <ul *ngFor="let k of i.contact">
                        <li>{{k}}</li>
                    </ul>
                </td>
                <td *ngIf="role==1||role==2">
                    <ul *ngFor="let k of i.accountDetails">
                        <li>{{k.accountName}} : {{k.bankName}}</li>
                        <li>{{k.accountNumber}}</li>
                        <li>{{k.ifsc}}</li>
                        <li>12 : {{k.acc12}}</li>
                        <li>363 : {{k.acc363}}</li>
                        <hr>
                    </ul>
                </td>
                <td *ngIf="!i.preferenceChk"><button class="btn btn-danger" (click)="showPreference(i._id,j,'single')">Show Preference</button></td>
                <td *ngIf="i.preferenceChk">
                    <ul *ngFor="let j of i.preferences;">
                        <li>{{j}}</li>
                    </ul>
                </td>
                <td  *ngIf="role==1||role==2">
                    <div class="btn-group-xs">                        
                        <i class="material-icons" style="color: red;cursor: pointer;" (click)="deleteOwnerDetails(i._id)">delete_forever</i>
                        <i class="material-icons" style="color: blue;cursor: pointer;" (click)="showDatabyid(i,true)">edit</i>
                        <i class="material-icons" style="color: green;cursor: pointer;" (click)="showDatabyid(i,false)">redo</i>
                      </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</div>

<div *ngIf="whichType==='3'">
    <div class="well">
    <div>
        <input type="number" [(ngModel)]="editTruckAcc" placeholder="Any Account No.">
        <button class="btn btn-danger" (click)="getSingleTruckAcc()"><i class="material-icons" >send</i></button></div>
    
        <table class="table" style="width:100%" align="center"  *ngIf="tableDate3">
    
            <thead>
                <tr class="table-header">
                    <th>Srno</th>
                    <th>Truck</th>
                    <th>Owner Name<br>Pan<br>Aadhar<br>DOB</th>
                    <th>Documents</th>
                    <th>Contact</th>
                    <th *ngIf="role==1||role==2">Account Details</th>
                    <th>Prefer</th>
                    <th *ngIf="role==1||role==2">Options</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let i of ownerdetailslist2;let j = index">
                    <td>{{j+1}}</td>
                    <td>{{i.truckno}}-{{i.typeOfVehiclefirst}}
                        <br>{{i.hbl}}-{{i.weight}}
                    </td>
                    <td>
                        <ul>
                            <li>{{i.oname}}</li>
                            <li>{{i.pan}}
                                <i class="material-icons" *ngIf="i.P" style="color: green;">done</i>
                                <i class="material-icons" *ngIf="!i.P" style="color: red;">close</i>
                            </li>
                            <li>{{i.aadhar}}</li>
                            <li>{{i.dob|date:'dd-MM-yyyy'}}</li>
                            </ul>
                        </td>
                    <td>
                        <ul>
                        <li [ngStyle]="{'background-color': i.rE}" style="color: black;">
                            RC-{{i.regCardExpiry|date:'dd-MM-yyyy'}}
                            <i class="material-icons" *ngIf="i.r" style="color: green;">done</i>
                            <i class="material-icons" *ngIf="!i.r" style="color: red;">close</i>
                        </li>
                        <li [ngStyle]="{'background-color': i.dE}" style="color: black;">
                            DL-{{i.drivingLicExpiry|date:'dd-MM-yyyy'}}
                            <i class="material-icons" *ngIf="i.d" style="color: green;">done</i>
                            <i class="material-icons" *ngIf="!i.d" style="color: red;">close</i>
                        </li>
                        </ul>
                    </td>
                    <td>
                        <ul *ngFor="let k of i.contact">
                            <li>{{k}}</li>
                        </ul>
                    </td>
                    <td *ngIf="role==1||role==2">
                        <ul *ngFor="let k of i.accountDetails">
                            <li>{{k.accountName}} : {{k.bankName}}</li>
                            <li>{{k.accountNumber}}</li>
                            <li>{{k.ifsc}}</li>
                            <li>12 : {{k.acc12}}</li>
                            <li>363 : {{k.acc363}}</li>
                            <hr>
                        </ul>
                    </td>
                    <td *ngIf="!i.preferenceChk"><button class="btn btn-danger" (click)="showPreference(i._id,j,'single')">Show Preference</button></td>
                    <td *ngIf="i.preferenceChk">
                        <ul *ngFor="let j of i.preferences;">
                            <li>{{j}}</li>
                        </ul>
                    </td>
                    <td  *ngIf="role==1||role==2">
                        <div class="btn-group-xs">                        
                            <i class="material-icons" style="color: red;cursor: pointer;" (click)="deleteOwnerDetails(i._id)">delete_forever</i>
                            <i class="material-icons" style="color: blue;cursor: pointer;" (click)="showDatabyid(i,true)">edit</i>
                            <i class="material-icons" style="color: green;cursor: pointer;" (click)="showDatabyid(i,false)">redo</i>
                          </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    </div>


    <div *ngIf="whichType==='4'">
        <div class="well">
        <div>

            <select class="form-control" [(ngModel)]="editTruckTPT">
                <option *ngFor="let own of tptlist;let j=index;" value={{own.tptName}}>{{own.tptName}}</option>
              </select>

            <button class="btn btn-danger" (click)="getTruckbyTPT()"><i class="material-icons" >send</i></button></div>
            <table class="table" style="width:100%" align="center"  *ngIf="tableDate4">
        
                <thead>
                    <tr class="table-header">
                        <th>Srno</th>
                        <th>Truck</th>
                        <th>Owner Name<br>Pan<br>Aadhar<br>DOB</th>
                        <th>Documents</th>
                        <th>Contact</th>
                        <th *ngIf="role==1||role==2">Account Details</th>
                        <th>Prefer</th>
                        <th *ngIf="role==1||role==2">Options</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let i of ownerdetailslist4;let j = index">
                        <td>{{j+1}}</td>
                        <td>{{i.truckno}}-{{i.typeOfVehiclefirst}}
                            <br>{{i.hbl}}-{{i.weight}}
                        </td>
                        <td>
                            <ul>
                                <li>{{i.oname}}</li>
                                <li>{{i.pan}}
                                    <i class="material-icons" *ngIf="i.P" style="color: green;">done</i>
                                    <i class="material-icons" *ngIf="!i.P" style="color: red;">close</i>
                                </li>
                                <li>{{i.aadhar}}</li>
                                <li>{{i.dob|date:'dd-MM-yyyy'}}</li>
                                </ul>
                            </td>
                        <td>
                            <ul>
                            <li [ngStyle]="{'background-color': i.rE}" style="color: black;">
                                RC-{{i.regCardExpiry|date:'dd-MM-yyyy'}}
                                <i class="material-icons" *ngIf="i.r" style="color: green;">done</i>
                                <i class="material-icons" *ngIf="!i.r" style="color: red;">close</i>
                            </li>
                            <li [ngStyle]="{'background-color': i.dE}" style="color: black;">
                                DL-{{i.drivingLicExpiry|date:'dd-MM-yyyy'}}
                                <i class="material-icons" *ngIf="i.d" style="color: green;">done</i>
                                <i class="material-icons" *ngIf="!i.d" style="color: red;">close</i>
                            </li>
                            </ul>
                        </td>
                        <td>
                            <ul *ngFor="let k of i.contact">
                                <li>{{k}}</li>
                            </ul>
                        </td>
                        <td *ngIf="role==1||role==2">
                            <ul *ngFor="let k of i.accountDetails">
                                <li>{{k.accountName}} : {{k.bankName}}</li>
                                <li>{{k.accountNumber}}</li>
                                <li>{{k.ifsc}}</li>
                                <li>12 : {{k.acc12}}</li>
                                <li>363 : {{k.acc363}}</li>
                                <hr>
                            </ul>
                        </td>
                        <td *ngIf="!i.preferenceChk"><button class="btn btn-danger" (click)="showPreference(i._id,j,'single')">Show Preference</button></td>
                        <td *ngIf="i.preferenceChk">
                            <ul *ngFor="let j of i.preferences;">
                                <li>{{j}}</li>
                            </ul>
                        </td>
                        <td  *ngIf="role==1||role==2">
                            <div class="btn-group-xs">                        
                                <i class="material-icons" style="color: red;cursor: pointer;" (click)="deleteOwnerDetails(i._id)">delete_forever</i>
                                <i class="material-icons" style="color: blue;cursor: pointer;" (click)="showDatabyid(i,true)">edit</i>
                                <i class="material-icons" style="color: green;cursor: pointer;" (click)="showDatabyid(i,false)">redo</i>
                              </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        </div>

<div *ngIf="whichType==='5'">
<div class="well">
<div>

    <select class="form-control" [(ngModel)]="editTruckTPT">
        <option *ngFor="let own of tptlist;let j=index;" value={{own.tptName}}>{{own.tptName}}</option>
        </select>
    <button class="btn btn-danger" (click)="getTruckbyTPTTB()"><i class="material-icons" >send</i></button></div>
    <table class="table" style="width:100%" align="center" *ngIf="tableDate5">
        <thead align="center" style="font-weight: bold">
          <tr class=table-header>
            <th>Srno</th>
            <th>Loading</th>
            <th>TruckNo</th>
            <th>Type-Party-Place</th>
            <th>LRNO</th>
            <th>Amount</th>
            <th>Poch : Pg : Amt : Acc</th>
            <th>Payment Details</th>
          </tr>
        </thead>
        <tbody align="center">
          <tr *ngFor="let i of ownerdetailslist5;let j = index">
            <td>{{j+1}}</td>
            <td>{{i.loadingDate|date:'dd-MM-yyyy'}}</td>
            <td>{{i.truckno}}</td>
            <td>{{i.partyType}}-{{i.psname}}-{{i.vsname}}<br><span *ngIf="i.vsname2!==undefined">{{i.vsname2}}</span>-{{i.typeOfLoad}}</td>
            <td>{{i.lrno}}</td>
            <td>{{i.hamt}}<br>{{i.ohamt}}</td>
            <td>{{i.pochDate|date:'dd-MM-yyyy'}} : {{i.pgno}} <br>
                <span *ngIf="i.advanceArray.length>0">
                {{i.advanceArray[0].advanceAmt}}:{{i.advanceArray[0].BHAccname}}<br>{{i.advanceArray[0].BHAccNo}}
                </span>

            </td>
            <td>{{i.actualPaymentDate|date:'dd-MM-yyyy'}}<br>{{i.actualPaymentAmount}}<br>{{i.statusOfPoch}}</td>
          </tr>
        </tbody>
      </table>
</div>
</div>

<div *ngIf="whichType==='6'">
    <div class="well">
    <div>
        <select class="form-control" [(ngModel)]="editTrucklocation">
            <option *ngFor="let own of villagedetailslist;let j=index;" value={{own._id}}>{{own.village_name}}</option>
            </select>
        <button class="btn btn-danger" (click)="getTruckbyTPTLoc()"><i class="material-icons" >send</i></button></div>
    
        <table class="table" style="width:100%" align="center"  *ngIf="tableDate6">
    
            <thead>
                <tr class="table-header">
                    <th>Srno</th>
                    <th>Truck</th>
                    <th>Owner Name</th>
                    <th>Contact</th>
                    <th >Account Details</th>
                    <th>Prefer</th>
                    <th >Options</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let i of ownerdetailslist6;let j = index">
                    <td>{{j+1}}</td>
                    <td>
                        <span *ngIf="i.empty" style="color: green;">{{i.truckno}}-</span>
                        <span *ngIf="!i.empty" style="color: red;">{{i.truckno}}-</span>
                       {{i.typeOfVehiclefirst}}
                        <br>{{i.hbl}}-{{i.weight}}
                    </td>
                    <td>
                        <ul>
                            <li>{{i.oname}}</li>
                            <li>{{i.pan}}</li>
                            </ul>
                        </td>
                    <td>
                        <ul *ngFor="let k of i.contact">
                            <li>{{k}}</li>
                        </ul>
                    </td>
                    <td>
                        <ul *ngFor="let k of i.accountDetails">
                            <li>{{k.accountName}} : {{k.bankName}}</li>
                            <li>{{k.accountNumber}}</li>
                            <li>{{k.ifsc}}</li>
                            <li>12 : {{k.acc12}}</li>
                            <li>363 : {{k.acc363}}</li>
                            <hr>
                        </ul>
                    </td>
                    <td *ngIf="!i.preferenceChk"><button class="btn btn-danger" (click)="showPreference2(i._id,j,'single')">Show Preference</button></td>
                    <td *ngIf="i.preferenceChk">
                        <ul *ngFor="let j of i.preferences;">
                            <li>{{j}}</li>
                        </ul>
                    </td>
                    <td >
                        <div class="btn-group-xs">                        
                            <i class="material-icons" style="color: red;cursor: pointer;" (click)="deleteOwnerDetails(i._id)">delete_forever</i>
                            <i class="material-icons" style="color: blue;cursor: pointer;" (click)="showDatabyid(i,true)">edit</i>
                            <i class="material-icons" style="color: green;cursor: pointer;" (click)="showDatabyid(i,false)">redo</i>
                          </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    </div>

    <div *ngIf="whichType==='7'">
        <div class="well">
        <div>
            <input type="text" [(ngModel)]="editname">
            <button class="btn btn-danger" (click)="getSingleAccName()"><i class="material-icons" >send</i></button></div>
        
            <table class="table" style="width:100%" align="center" *ngIf="tableDate7">
                <thead align="center" style="font-weight: bold">
                  <tr class=table-header>
                    <th>Srno</th>
                    <th>Loading</th>
                    <th>TruckNo</th>
                    <th>Type-Party-Place</th>
                    <th>LRNO</th>
                    <th>Amount</th>
                    <th>Poch : Pg : Amt : Acc</th>
                    <th>Payment Details</th>
                  </tr>
                </thead>
                <tbody align="center">
                  <tr *ngFor="let i of ownerdetailslist7;let j = index">
                    <td>{{j+1}}</td>
                    <td>{{i.loadingDate|date:'dd-MM-yyyy'}}</td>
                    <td>{{i.truckno}}</td>
                    <td>{{i.partyType}}-{{i.psname}}-{{i.vsname}}<br><span *ngIf="i.vsname2!==undefined">{{i.vsname2}}</span>-{{i.typeOfLoad}}</td>
                    <td>{{i.lrno}}</td>
                    <td>{{i.hamt}}<br>{{i.ohamt}}</td>
                    <td>{{i.pochDate|date:'dd-MM-yyyy'}} : {{i.pgno}} <br>
                        <span *ngIf="i.advanceArray.length>0">
                        {{i.advanceArray[0].advanceAmt}}:{{i.advanceArray[0].BHAccname}}<br>{{i.advanceArray[0].BHAccNo}}
                        </span>
        
                    </td>
                    <td>{{i.actualPaymentDate|date:'dd-MM-yyyy'}}<br>{{i.actualPaymentAmount}}<br>{{i.statusOfPoch}}</td>
                  </tr>
                </tbody>
              </table>
        </div>
        </div>