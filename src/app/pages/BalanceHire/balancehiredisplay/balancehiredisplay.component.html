<div class="well container" style="width:100%;">

  <div class="form-group row">
    <div class="col-sm-5">
      <select class="form-control" [(ngModel)]="displayType" (change)="findOption()">
        <option *ngFor="let i of displayoptions;let j = index;" value={{i.value}}>{{i.viewvalue}}</option>
      </select>
    </div>
  </div>


  <div class="row" *ngIf="buttonOption=='2'">
    <span style="font-weight: bold;">{{createdDate}}</span>
    <div *ngIf="yeardiv">
      <div class="col-sm-2" *ngFor="let i of years">
        <button mat-raised-button class="btn btn-warning" style="margin:1vh;" (click)="find2(i,'year')">{{i}}</button>
      </div>
    </div>
    <div *ngIf="monthdiv">
      <div class="col-sm-2" *ngFor="let i of actualMonths">
        <button mat-raised-button class="btn btn-warning"
          [ngStyle]="{'background-color': i.print ? '#5CB85C' : '#D9534F'}"
          (click)="find2(i,'month')">{{i.name}}</button>
      </div>
      <div class="col-sm-3">
        <button class="btn btn-danger" style="width:100%" (click)="back('year')">Back</button>
      </div>
    </div>
    <div *ngIf="daydiv">
      <div class="col-sm-3" *ngFor="let i of dayData" style="margin-bottom: 2vh;">
        <button class="btn btn-warning" style="width:100%" [ngStyle]="{'background-color': i.color}"
          (click)="find2(i,'day')" [disabled]="i.data=='NA'">{{i._id}} : {{i.data}}</button>
      </div>
      <div class="col-sm-3">
        <button class="btn btn-danger" style="width:100%" (click)="back('month')">Back</button>
      </div>
    </div>
  </div>


  <div class="row" *ngIf="((buttonOption=='1')||(buttonOption=='2'))">
    <div class="row" *ngIf="printInfo">

      <div class="form-group col-xs-1" align="center">
        <input type="date" [(ngModel)]="selectedDate" *ngIf="role==1||role==2">
      </div>

      <div class="form-group col-xs-1" align="center">
        <button class="btn btn-warning" (click)="find()" *ngIf="role==1||role==2">Find</button>
      </div>
      <div class="form-group col-xs-1" align="center">
        <button class="btn btn-danger" (click)="download()" *ngIf="role==1||role==2">PDF</button>
      </div>
      <div class="form-group col-xs-1" align="center">
        <button class="btn btn-danger" (click)="adminAccess()" *ngIf="role==1||role==2">Admin</button>
      </div>
      <div class="form-group col-xs-1" align="center">
        <button class="btn btn-danger" (click)="printUpdate()" *ngIf="role==1||role==2"
          [ngStyle]="{'background-color': !printed ? 'red' : 'black' }" [disabled]="printed">Print</button>
      </div>
    </div>

    <div style="text-align: center">
      <h3>{{selectedDate}}</h3>
      <table class="table" style="width:100%" align="center">

        <thead class="table-header">
          <tr>
            <th>Srno</th>
            <th>Today Date</th>
            <th>Date</th>
            <th>Truckno</th>
            <th>Amount</th>
            <th>PgNo</th>
            <th *ngIf="role==1||role==2">AccountNo-IFSC</th>
            <th *ngIf="role==1||role==2">Account Name</th>
            <th *ngIf="!admin">Delete</th>
            <th *ngIf="(role==1||role==2)&&(!admin)">Edit</th>
            <th *ngIf="admin">Delete Admin</th>
            <th *ngIf="(role==1||role==2)&&(admin)">Edit Admin</th>
          </tr>
        </thead>


        <tbody>
          <tr *ngFor="let i of balanceDate;let j = index"
            [ngStyle]="{'color': i.comments==='cancel' ? 'red' : 'black' }">
            <td>{{j+1}}</td>
            <td>{{i.todayDate}}</td>
            <td>
              <ul *ngFor="let k of i.truckData">
                <li>{{k.date}}</li>
              </ul>
            </td>

            <td>
              <ul *ngFor="let k of i.truckData">
                <li>{{k.truckno}}</li>
              </ul>
            </td>

            <td>
              <ul *ngFor="let k of i.truckData">
                <li>{{k.amount}}</li>
              </ul>
            </td>
            <td>
              <ul *ngFor="let k of i.truckData">
                <li>{{k.pageno}}</li>
              </ul>
            </td>
            <td *ngIf="role==1||role==2">{{i.accountNumber}}-{{i.ifsc}}</td>
            <td *ngIf="role==1||role==2">{{i.accountName}}</td>
            <td *ngIf="(i.comments==='')&&(!admin)">
              <button mat-raised-button (click)="deleteBH(i)" class="btn-danger btn-sm btn-just-icon">
                <i class="material-icons">delete_forever</i>
              </button>
            </td>
            <td *ngIf="(i.comments==='cancel')&&(!admin)">
              <button mat-raised-button type="button" (click)="deleteBH(i)" class="btn-primary btn-sm btn-just-icon">
                <i class="material-icons">add</i>
              </button>
            </td>
            <td *ngIf="(role==1||role==2)&&(!admin)">
              <button mat-raised-button type="button" (click)="showDatabyid(i,j)"
                class="btn-primary btn-sm btn-just-icon" *ngIf="(role==1||role==2)&&(!admin)">
                <i class="material-icons">edit</i>
              </button>
            </td>
            <td *ngIf="(role==1||role==2)&&(admin)">
              <button mat-raised-button type="button" (click)="deleteBHComplete(i,j)"
                class="btn-danger btn-sm btn-just-icon" *ngIf="(role==1||role==2)&&(admin)">
                <i class="material-icons">delete_forever</i>
              </button>
            </td>
            <td>
              <button mat-raised-button (click)="showDatabyidEditForm(i,j)" *ngIf="(role==1||role==2)&&(admin)"
                class="btn-primary btn-sm btn-just-icon">
                <i class="material-icons">edit</i>
              </button>
            </td>

          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-sm-3" *ngIf="daydiv">
      <button class="btn btn-danger" style="width:100%" (click)="back('day')">Back</button>
    </div>
  </div>
</div>